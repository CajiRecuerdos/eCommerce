{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USUARIO\\\\Downloads\\\\eCommerce-development\\\\interfaz2\\\\src\\\\componentes\\\\cliente\\\\productosClientes\\\\Context\\\\CartContext.jsx\",\n  _s = $RefreshSig$();\nimport { createContext, useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CartContext = /*#__PURE__*/createContext();\nexport function CartProvider(_ref) {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [cartItems, setCartItems] = useState(() => {\n    try {\n      const productosEnLocalStorage = localStorage.getItem('cartProducts');\n      return productosEnLocalStorage ? JSON.parse(productosEnLocalStorage) : [];\n    } catch (error) {\n      return [];\n    }\n  });\n  useEffect(() => {\n    localStorage.setItem('cartProduts', JSON.stringify(cartItems));\n    console.log(cartItems);\n  }, [cartItems]);\n  const addItemToCart = product => {\n    const inCart = cartItems.find(productInCart => productInCart.id === product.id);\n    if (inCart) {\n      setCartItems(cartItems.map(productInCart => {\n        if (productInCart.id === product.id) {\n          return {\n            ...inCart,\n            amount: inCart.amount + 1\n          };\n        } else return productInCart;\n      }));\n    } else {\n      setCartItems([...cartItems, {\n        ...product,\n        amount: 1\n      }]);\n    }\n  };\n  const deleteItemToCart = product => {\n    const inCart = cartItems.find(productInCart => productInCart.id === product.id);\n    if (inCart.amount === 1) {\n      setCartItems(cartItems.filter(productInCart => productInCart.id !== product.id));\n    } else {\n      setCartItems(cartItems.map(productInCart => {\n        if (productInCart.id === product.id) {\n          return {\n            ...inCart,\n            amount: inCart.amount - 1\n          };\n        } else return productInCart;\n      }));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: {\n      cartItems,\n      addItemToCart,\n      deleteItemToCart\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 9\n  }, this);\n}\n_s(CartProvider, \"A1doIZMgAWB7OOJAV5O89+lVZUs=\");\n_c = CartProvider;\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["createContext","useEffect","useState","CartContext","CartProvider","children","cartItems","setCartItems","productosEnLocalStorage","localStorage","getItem","JSON","parse","error","setItem","stringify","console","log","addItemToCart","product","inCart","find","productInCart","id","map","amount","deleteItemToCart","filter"],"sources":["C:/Users/USUARIO/Downloads/eCommerce-development/interfaz2/src/componentes/cliente/productosClientes/Context/CartContext.jsx"],"sourcesContent":["import { createContext, useEffect, useState } from \"react\";\n\nexport const CartContext = createContext()\n\nexport function CartProvider({ children }) {\n    const [cartItems, setCartItems] = useState(() => {\n        try {\n            const productosEnLocalStorage = localStorage.getItem('cartProducts');\n            return productosEnLocalStorage ? JSON.parse(productosEnLocalStorage) : [];\n        } catch (error) {\n            return [];\n        }\n    });\n\n    useEffect(() => {\n        localStorage.setItem('cartProduts', JSON.stringify(cartItems));\n        console.log(cartItems)\n    }, [cartItems]);\n\n    const addItemToCart = (product) => {\n        const inCart = cartItems.find(\n            (productInCart) => productInCart.id === product.id\n        );\n\n        if (inCart) {\n            setCartItems(\n                cartItems.map((productInCart) => {\n                    if (productInCart.id === product.id) {\n                        return { ...inCart, amount: inCart.amount + 1 };\n                    } else\n                        return productInCart;\n                })\n            );\n        } else {\n            setCartItems([...cartItems, { ...product, amount: 1 }]);\n        }\n    };\n\n    const deleteItemToCart = (product) => {\n        const inCart = cartItems.find(\n            (productInCart) => productInCart.id === product.id\n        );\n\n        if (inCart.amount === 1) {\n            setCartItems(\n                cartItems.filter(productInCart => productInCart.id !== product.id)\n            );\n        } else {\n            setCartItems(\n                cartItems.map((productInCart) => {\n                if (productInCart.id === product.id) {\n                    return { ...inCart, amount: inCart.amount - 1 };\n                } else\n                    return productInCart;\n            }));\n        }\n    };\n\n    return (\n        <CartContext.Provider value={{ cartItems, addItemToCart, deleteItemToCart }}>\n            {children}\n        </CartContext.Provider>\n    );\n}\n"],"mappings":";;AAAA,SAASA,aAAa,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAAC;AAE3D,OAAO,MAAMC,WAAW,gBAAGH,aAAa,EAAE;AAE1C,OAAO,SAASI,YAAY,OAAe;EAAA;EAAA,IAAd;IAAEC;EAAS,CAAC;EACrC,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGL,QAAQ,CAAC,MAAM;IAC7C,IAAI;MACA,MAAMM,uBAAuB,GAAGC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC;MACpE,OAAOF,uBAAuB,GAAGG,IAAI,CAACC,KAAK,CAACJ,uBAAuB,CAAC,GAAG,EAAE;IAC7E,CAAC,CAAC,OAAOK,KAAK,EAAE;MACZ,OAAO,EAAE;IACb;EACJ,CAAC,CAAC;EAEFZ,SAAS,CAAC,MAAM;IACZQ,YAAY,CAACK,OAAO,CAAC,aAAa,EAAEH,IAAI,CAACI,SAAS,CAACT,SAAS,CAAC,CAAC;IAC9DU,OAAO,CAACC,GAAG,CAACX,SAAS,CAAC;EAC1B,CAAC,EAAE,CAACA,SAAS,CAAC,CAAC;EAEf,MAAMY,aAAa,GAAIC,OAAO,IAAK;IAC/B,MAAMC,MAAM,GAAGd,SAAS,CAACe,IAAI,CACxBC,aAAa,IAAKA,aAAa,CAACC,EAAE,KAAKJ,OAAO,CAACI,EAAE,CACrD;IAED,IAAIH,MAAM,EAAE;MACRb,YAAY,CACRD,SAAS,CAACkB,GAAG,CAAEF,aAAa,IAAK;QAC7B,IAAIA,aAAa,CAACC,EAAE,KAAKJ,OAAO,CAACI,EAAE,EAAE;UACjC,OAAO;YAAE,GAAGH,MAAM;YAAEK,MAAM,EAAEL,MAAM,CAACK,MAAM,GAAG;UAAE,CAAC;QACnD,CAAC,MACG,OAAOH,aAAa;MAC5B,CAAC,CAAC,CACL;IACL,CAAC,MAAM;MACHf,YAAY,CAAC,CAAC,GAAGD,SAAS,EAAE;QAAE,GAAGa,OAAO;QAAEM,MAAM,EAAE;MAAE,CAAC,CAAC,CAAC;IAC3D;EACJ,CAAC;EAED,MAAMC,gBAAgB,GAAIP,OAAO,IAAK;IAClC,MAAMC,MAAM,GAAGd,SAAS,CAACe,IAAI,CACxBC,aAAa,IAAKA,aAAa,CAACC,EAAE,KAAKJ,OAAO,CAACI,EAAE,CACrD;IAED,IAAIH,MAAM,CAACK,MAAM,KAAK,CAAC,EAAE;MACrBlB,YAAY,CACRD,SAAS,CAACqB,MAAM,CAACL,aAAa,IAAIA,aAAa,CAACC,EAAE,KAAKJ,OAAO,CAACI,EAAE,CAAC,CACrE;IACL,CAAC,MAAM;MACHhB,YAAY,CACRD,SAAS,CAACkB,GAAG,CAAEF,aAAa,IAAK;QACjC,IAAIA,aAAa,CAACC,EAAE,KAAKJ,OAAO,CAACI,EAAE,EAAE;UACjC,OAAO;YAAE,GAAGH,MAAM;YAAEK,MAAM,EAAEL,MAAM,CAACK,MAAM,GAAG;UAAE,CAAC;QACnD,CAAC,MACG,OAAOH,aAAa;MAC5B,CAAC,CAAC,CAAC;IACP;EACJ,CAAC;EAED,oBACI,QAAC,WAAW,CAAC,QAAQ;IAAC,KAAK,EAAE;MAAEhB,SAAS;MAAEY,aAAa;MAAEQ;IAAiB,CAAE;IAAA,UACvErB;EAAQ;IAAA;IAAA;IAAA;EAAA,QACU;AAE/B;AAAC,GA3DeD,YAAY;AAAA,KAAZA,YAAY;AAAA;AAAA"},"metadata":{},"sourceType":"module"}